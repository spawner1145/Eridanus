"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{48820:function(J,E){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};E.Z=e},42110:function(J,E){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};E.Z=e},1977:function(J,E,e){e.d(E,{n:function(){return ee}});var m=e(97685),p=e(71002),j=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,N=function(r){return r==="*"||r==="x"||r==="X"},O=function(r){var i=parseInt(r,10);return isNaN(i)?r:i},$=function(r,i){return(0,p.Z)(r)!==(0,p.Z)(i)?[String(r),String(i)]:[r,i]},Q=function(r,i){if(N(r)||N(i))return 0;var f=$(O(r),O(i)),x=(0,m.Z)(f,2),z=x[0],c=x[1];return z>c?1:z<c?-1:0},k=function(r,i){for(var f=0;f<Math.max(r.length,i.length);f++){var x=Q(r[f]||"0",i[f]||"0");if(x!==0)return x}return 0},D=function(r){var i,f=r.match(j);return f==null||(i=f.shift)===null||i===void 0||i.call(f),f},ee=function(r,i){var f=D(r),x=D(i),z=f.pop(),c=x.pop(),A=k(f,x);return A!==0?A:z||c?z?-1:1:0}},1485:function(J,E,e){e.r(E),e.d(E,{default:function(){return Fe}});var m=e(15009),p=e.n(m),j=e(97857),N=e.n(j),O=e(99289),$=e.n(O),Q=e(5574),k=e.n(Q),D=e(2618),ee=e(17788),Z=e(87547),r=e(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},f=i,x=e(57079);function z(){return z=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h])}return s},z.apply(this,arguments)}const c=(s,o)=>r.createElement(x.Z,z({},s,{ref:o,icon:f}));var y=r.forwardRef(c),a=e(1413),S=e(91),R=e(89451),ce=e(21532),de=e(93967),ve=e.n(de),fe=e(34994),M=e(4942),te=e(64847),me=function(o){return(0,M.Z)((0,M.Z)({},o.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:o.colorTextSecondary,fontSize:o.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,M.Z)({},"".concat(o.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function he(s){return(0,te.Xj)("LoginForm",function(o){var l=(0,a.Z)((0,a.Z)({},o),{},{componentCls:".".concat(s)});return[me(l)]})}var t=e(85893),ne=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function ge(s){var o,l=s.logo,h=s.message,T=s.contentStyle,C=s.title,g=s.subTitle,I=s.actions,Y=s.children,le=s.containerStyle,Pe=s.otherStyle,F=(0,S.Z)(s,ne),Ee=(0,R.YB)(),ie=F.submitter===!1?!1:(0,a.Z)((0,a.Z)({searchConfig:{submitText:Ee.getMessage("loginForm.submitText","\u767B\u5F55")}},F.submitter),{},{submitButtonProps:(0,a.Z)({size:"large",style:{width:"100%"}},(o=F.submitter)===null||o===void 0?void 0:o.submitButtonProps),render:function(u,V){var L,ze=V.pop();if(typeof(F==null||(L=F.submitter)===null||L===void 0?void 0:L.render)=="function"){var n,W;return F==null||(n=F.submitter)===null||n===void 0||(W=n.render)===null||W===void 0?void 0:W.call(n,u,V)}return ze}}),je=(0,r.useContext)(ce.ZP.ConfigContext),H=je.getPrefixCls("pro-form-login"),ue=he(H),Ze=ue.wrapSSR,P=ue.hashId,d=function(u){return"".concat(H,"-").concat(u," ").concat(P)},v=(0,r.useMemo)(function(){return l?typeof l=="string"?(0,t.jsx)("img",{src:l}):l:null},[l]);return Ze((0,t.jsxs)("div",{className:ve()(d("container"),P),style:le,children:[(0,t.jsxs)("div",{className:"".concat(d("top")," ").concat(P).trim(),children:[C||v?(0,t.jsxs)("div",{className:"".concat(d("header")),children:[v?(0,t.jsx)("span",{className:d("logo"),children:v}):null,C?(0,t.jsx)("span",{className:d("title"),children:C}):null]}):null,g?(0,t.jsx)("div",{className:d("desc"),children:g}):null]}),(0,t.jsxs)("div",{className:d("main"),style:(0,a.Z)({width:328},T),children:[(0,t.jsxs)(fe.A,(0,a.Z)((0,a.Z)({isKeyPressSubmit:!0},F),{},{submitter:ie,children:[h,Y]})),I?(0,t.jsx)("div",{className:d("main-other"),style:Pe,children:I}):null]})]}))}var re=e(5966),ae=e(22270),pe=e(84567),q=e(90789),U=e(79211),xe=["options","fieldProps","proFieldProps","valueEnum"],G=r.forwardRef(function(s,o){var l=s.options,h=s.fieldProps,T=s.proFieldProps,C=s.valueEnum,g=(0,S.Z)(s,xe);return(0,t.jsx)(U.Z,(0,a.Z)({ref:o,valueType:"checkbox",valueEnum:(0,ae.h)(C,void 0),fieldProps:(0,a.Z)({options:l},h),lightProps:(0,a.Z)({labelFormatter:function(){return(0,t.jsx)(U.Z,(0,a.Z)({ref:o,valueType:"checkbox",mode:"read",valueEnum:(0,ae.h)(C,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:l},h),proFieldProps:T},g))}},g.lightProps),proFieldProps:T},g))}),K=r.forwardRef(function(s,o){var l=s.fieldProps,h=s.children;return(0,t.jsx)(pe.Z,(0,a.Z)((0,a.Z)({ref:o},l),{},{children:h}))}),se=(0,q.G)(K,{valuePropName:"checked"}),_=se;_.Group=G;var ye=_,X=e(86762),w=e(2453),oe=e(67610),B=e(73935),Se=e(91094),Ce=function(){var o,l=(0,X.useModel)("@@initialState"),h=l.initialState,T=l.setInitialState,C=h==null||(o=h.settings)===null||o===void 0?void 0:o.isDark,g=(0,r.useState)({}),I=k()(g,2),Y=I[0],le=I[1],Pe=(0,r.useState)(!1),F=k()(Pe,2),Ee=F[0],ie=F[1],je=function(d,v){localStorage.setItem("saved_account",d),localStorage.setItem("saved_password",v)},H=function(){localStorage.removeItem("saved_account"),localStorage.removeItem("saved_password")},ue=function(){var P=$()(p()().mark(function d(v){var b,u,V,L;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,b=(0,Se.sha3_256)(v.password||""),v.password=b,n.next=5,(0,D.n$)(v);case 5:if(u=n.sent,!u.error){n.next=12;break}return w.ZP.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF"),v.account===localStorage.getItem("saved_account")&&H(),n.abrupt("return");case 12:return localStorage.setItem("auth_token",u.auth_token?u.auth_token:""),document.cookie="auth_token=".concat(u.auth_token),v.autoLogin?je(v.account||"",b):H(),n.next=17,(0,D.ts)();case 17:return V=n.sent,(0,B.flushSync)(function(){T(function(W){return N()(N()({},W),{},{currentUser:V})})}),w.ZP.success("\u767B\u5F55\u6210\u529F"),L=new URL(window.location.href).searchParams,X.history.push(L.get("redirect")||"/"),n.abrupt("return");case 23:n.next=27;break;case 25:n.prev=25,n.t0=n.catch(0);case 27:case"end":return n.stop()}},d,null,[[0,25]])}));return function(v){return P.apply(this,arguments)}}(),Ze=function(){var P=$()(p()().mark(function d(){var v,b,u,V,L;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(v=localStorage.getItem("saved_account"),b=localStorage.getItem("saved_password"),!(v&&b)){n.next=25;break}return n.prev=3,n.next=6,(0,D.n$)({account:v,password:b});case 6:if(u=n.sent,u.message&&w.ZP.success(u.message),!u.error){n.next=11;break}return H(),n.abrupt("return");case 11:return localStorage.setItem("auth_token",u.auth_token?u.auth_token:""),document.cookie="auth_token=".concat(u.auth_token),n.next=15,(0,D.ts)();case 15:V=n.sent,(0,B.flushSync)(function(){T(function(W){return N()(N()({},W),{},{currentUser:V})})}),w.ZP.success("\u81EA\u52A8\u767B\u5F55\u6210\u529F"),L=new URL(window.location.href).searchParams,X.history.push(L.get("redirect")||"/"),n.next=25;break;case 22:n.prev=22,n.t0=n.catch(3),H();case 25:case"end":return n.stop()}},d,null,[[3,22]])}));return function(){return P.apply(this,arguments)}}();return(0,r.useEffect)(function(){Ze()},[]),(0,t.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1e3,background:C?"#1f1f1f":"#f5f5f5"},children:[(0,t.jsx)(X.Helmet,{children:(0,t.jsxs)("title",{children:["\u767B\u5F55"," - ",oe.Z.title]})}),(0,t.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,t.jsxs)(ge,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,t.jsx)("img",{alt:"logo",src:"/icons/icon-192x192.png"}),title:"Eridanus WebUI",subTitle:"\u8BF7\u767B\u5F55",onFinish:function(){var P=$()(p()().mark(function d(v){return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ue(v);case 2:case"end":return u.stop()}},d)}));return function(d){return P.apply(this,arguments)}}(),children:[(0,t.jsx)(re.Z,{name:"account",fieldProps:{size:"large",prefix:(0,t.jsx)(Z.Z,{})},placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]}),(0,t.jsx)(re.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(y,{})},placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]}),(0,t.jsx)(ye,{name:"autoLogin",noStyle:!0,children:"\u81EA\u52A8\u767B\u5F55"}),(0,t.jsx)("a",{style:{float:"right",marginBottom:"20px"},onClick:function(){return ie(!0)},children:"\u4E0D\u77E5\u9053/\u5FD8\u8BB0\u8D26\u6237\u5BC6\u7801\uFF1F"}),(0,t.jsxs)(ee.Z,{title:"\u8D26\u6237\u5BC6\u7801\u5E2E\u52A9",open:Ee,onCancel:function(){return ie(!1)},footer:null,centered:!0,children:[(0,t.jsx)("hr",{}),(0,t.jsxs)("p",{children:["\u5982\u679C\u60A8\u662F\u7B2C\u4E00\u6B21\u4F7F\u7528\uFF0C\u9ED8\u8BA4\u8D26\u6237\u5BC6\u7801\u5747\u4E3A\uFF1A",(0,t.jsx)("h1",{style:{textAlign:"center"},children:"eridanus"})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("p",{children:["\u5982\u679C\u60A8\u5FD8\u8BB0\u4E86\u8D26\u6237\u548C\u5BC6\u7801\uFF0C\u8BF7\u5728",(0,t.jsx)("strong",{style:{fontSize:"1.5rem"},children:" Eridanus "}),"\u76EE\u5F55\u4E0B\uFF0C\u627E\u5230",(0,t.jsx)("strong",{style:{fontSize:"1.5rem"},children:" user_info.yaml "}),"\u6587\u4EF6\uFF0C\u5C06\u5176\u5220\u9664\u3002\u7136\u540E\u91CD\u542F\u670D\u52A1\u7AEF\uFF0C\u8D26\u6237\u5BC6\u7801\u6062\u590D\u4E3A\u9ED8\u8BA4\u3002"]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("p",{children:["\u5982\u679C\u60A8\u6709\u516C\u7F51\u8BBF\u95EE\u7684\u9700\u8981\uFF0C\u4E3A\u4E86\u5B89\u5168\u8D77\u89C1\uFF0C\u8BF7\u52A1\u5FC5\u5728\u767B\u5F55\u540E\uFF0C\u627E\u5230\u9876\u90E8\u5DE5\u5177\u680F\u53F3\u4E0A\u89D2\u7684"," ",(0,t.jsx)(Z.Z,{style:{fontSize:"2rem"}})," \u6309\u94AE\uFF0C\u7ACB\u5373\u4FEE\u6539\u8D26\u6237\u5BC6\u7801\uFF01"]})]})]})})]})},Fe=Ce},98065:function(J,E,e){e.d(E,{T:function(){return p},n:function(){return m}});function m(j){return["small","middle","large"].includes(j)}function p(j){return j?typeof j=="number"&&!Number.isNaN(j):!1}},42075:function(J,E,e){e.d(E,{Z:function(){return z}});var m=e(67294),p=e(93967),j=e.n(p),N=e(50344),O=e(98065),$=e(53124),Q=e(4173);const k=m.createContext({latestIndex:0}),D=k.Provider;var Z=({className:c,index:A,children:y,split:a,style:S})=>{const{latestIndex:R}=m.useContext(k);return y==null?null:m.createElement(m.Fragment,null,m.createElement("div",{className:c,style:S},y),A<R&&a&&m.createElement("span",{className:`${c}-split`},a))},r=e(51916),i=function(c,A){var y={};for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&A.indexOf(a)<0&&(y[a]=c[a]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,a=Object.getOwnPropertySymbols(c);S<a.length;S++)A.indexOf(a[S])<0&&Object.prototype.propertyIsEnumerable.call(c,a[S])&&(y[a[S]]=c[a[S]]);return y};const x=m.forwardRef((c,A)=>{var y;const{getPrefixCls:a,direction:S,size:R,className:ce,style:de,classNames:ve,styles:fe}=(0,$.dj)("space"),{size:M=R!=null?R:"small",align:te,className:me,rootClassName:he,children:t,direction:ne="horizontal",prefixCls:ge,split:re,style:ae,wrap:pe=!1,classNames:q,styles:U}=c,xe=i(c,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[G,K]=Array.isArray(M)?M:[M,M],se=(0,O.n)(K),_=(0,O.n)(G),ye=(0,O.T)(K),X=(0,O.T)(G),w=(0,N.Z)(t,{keepEmpty:!0}),oe=te===void 0&&ne==="horizontal"?"center":te,B=a("space",ge),[Se,Ce,Fe]=(0,r.Z)(B),s=j()(B,ce,Ce,`${B}-${ne}`,{[`${B}-rtl`]:S==="rtl",[`${B}-align-${oe}`]:oe,[`${B}-gap-row-${K}`]:se,[`${B}-gap-col-${G}`]:_},me,he,Fe),o=j()(`${B}-item`,(y=q==null?void 0:q.item)!==null&&y!==void 0?y:ve.item);let l=0;const h=w.map((g,I)=>{var Y;g!=null&&(l=I);const le=(g==null?void 0:g.key)||`${o}-${I}`;return m.createElement(Z,{className:o,key:le,index:I,split:re,style:(Y=U==null?void 0:U.item)!==null&&Y!==void 0?Y:fe.item},g)}),T=m.useMemo(()=>({latestIndex:l}),[l]);if(w.length===0)return null;const C={};return pe&&(C.flexWrap="wrap"),!_&&X&&(C.columnGap=G),!se&&ye&&(C.rowGap=K),Se(m.createElement("div",Object.assign({ref:A,className:s,style:Object.assign(Object.assign(Object.assign({},C),de),ae)},xe),m.createElement(D,{value:T},h)))});x.Compact=Q.ZP;var z=x}}]);
